{"version":3,"sources":["components/Users/Users.module.css","components/Users/User/User.module.css","components/common/Pagination/Pagination.module.css","components/Users/User/User.jsx","components/Users/Users.jsx","components/common/Pagination/Pagination.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx"],"names":["module","exports","User","props","className","s","item","to","user","id","avatar","name","status","button","onClick","action","disabled","isFollowing","some","el","followed","Users","isFetching","Preloader","container","list","map","key","unfollowUser","followUser","Pagination","pagesCount","Math","ceil","totalCount","pageSize","pagesCountArray","currentPage","startCount","endCount","portion","i","push","pagination__item","pagination__item_active","setCurrentPage","pagination__button","changePage","direction","wrapper","pagination","getUsers","state","users","UsersContainer","pageId","data","this","follow","unfollow","totalUsersCount","React","Component","compose","connect","followThunkCreator","unfollowThunkCreator","getUsersThunkCreator","setIsFollowing","withAuthRedirect"],"mappings":"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","file":"static/js/4.beb24437.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Users_container__6F9oG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"User_item__2PdYA\",\"avatar\":\"User_avatar__27DBJ\",\"name\":\"User_name__3NrJR\",\"button\":\"User_button__3hzrr\",\"status\":\"User_status__29Xzb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Pagination_wrapper__1gJAb\",\"pagination\":\"Pagination_pagination__1KkdA\",\"pagination__item\":\"Pagination_pagination__item__306nT\",\"pagination__item_active\":\"Pagination_pagination__item_active__2-Yy0\",\"pagination__button\":\"Pagination_pagination__button__kevZd\"};","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport s from './User.module.css'\n\nconst User = props => {\n    return <div className={s.item}>\n                <NavLink to={`profile/${props.user.id}`}>\n                    <span className={s.avatar} />\n                </NavLink>\n                <div className={s.name}>{props.user.name}</div>\n                <div className={s.status}>{props.user.status}</div>\n                <button className={s.button + \" button\"} onClick={() => props.action(props.user.id)} disabled={props.isFollowing.some(el => el === props.user.id) ? 'disabled': ''}>\n                    {props.user.followed ? 'Unfollow': 'Follow'}\n                </button>\n           </div>\n};\n\nexport default User;","import React from 'react'\n\nimport s from './Users.module.css'\nimport User from './User/User'\nimport Preloader from '../common/Preloader/Preloader';\n\nconst Users = props => {\n    return <>\n        <h1 className=\"title\">Users</h1>\n        {props.isFetching ? <Preloader /> : null }\n        <div className={s.container}>\n            {props.list.map(user => <User key={user.id} user={user} action={user.followed ? props.unfollowUser: props.followUser} isFollowing={props.isFollowing} />)}\n        </div>\n    </>\n};\n\nexport default Users;","import React from 'react';\nimport s from './Pagination.module.css'\n\nconst Pagination = props => {\n    let pagesCount =  Math.ceil(props.totalCount / props.pageSize);\n    let pagesCountArray = [];\n    let currentPage = props.currentPage\n    const portion = 10;\n    const halfPortion = portion / 2;\n\n    let startCount = 1;\n    let endCount = portion;\n\n    if(!pagesCount) {\n        return null;\n    }\n\n    if(currentPage > halfPortion && currentPage < pagesCount - halfPortion) {\n        startCount = currentPage - halfPortion;\n        endCount = currentPage + halfPortion;\n    } else if(currentPage >= pagesCount - halfPortion) {\n        startCount = pagesCount - portion;\n        endCount = pagesCount;\n    }\n\n    for(let i = startCount; i <= endCount; i++) {\n        pagesCountArray.push(\n            <li className={s.pagination__item + (currentPage === i ? (\" \" + s.pagination__item_active) : \"\")} key={i}>\n                <button onClick={() => props.setCurrentPage(i)} className={s.pagination__button}>{i}</button>\n            </li>);\n    }\n\n    const changePage = direction => {\n        switch (direction) {\n            case 'prev':\n                currentPage -= 1;\n                break;\n            case 'next':\n                currentPage += 1;\n                break;\n            default:\n                return;\n        }\n\n        props.setCurrentPage(currentPage);\n    }\n\n    return (\n        <section className={s.wrapper}>\n            {props.currentPage !== 1 ? <button onClick={() => {changePage('prev')}}>Prev</button> : null}\n            <ul className={s.pagination}>\n                {pagesCountArray}\n            </ul>\n            {props.currentPage !== pagesCount ? <button onClick={() => {changePage('next')}}>Next</button> : null}\n        </section>\n    );\n};\n\nexport default Pagination;","// import { createSelector } from \"reselect\";\n\n\nexport const getUsers = state => {\n    return state.users;\n};\n\n// Reselect selector example with difficult logic\n// export const getUsersSuperSelector = createSelector(getUsers, users => {\n//     return users.filter(() => true);\n// });","import React from 'react';\nimport {compose} from 'redux';\nimport {connect} from 'react-redux';\n\nimport Users from './Users';\nimport Pagination from \"../common/Pagination/Pagination\";\nimport { setCurrentPage, followThunkCreator, unfollowThunkCreator,\n        setIsFollowing, getUsersThunkCreator } from '../../redux/users-reducer'\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\nimport { getUsers } from '../../redux/users-selectors';\n\n\nclass UsersContainer extends React.Component {\n    componentDidMount() {\n        this.props.getUsers(this.props.data.currentPage, this.props.data.pageSize);\n    }\n\n    setCurrentPage = (pageId) => {\n        this.props.getUsers(pageId, this.props.data.pageSize);\n        this.props.setCurrentPage(pageId);\n    };\n    \n    render() {\n        return <>\n            <Users list={this.props.data.list} followUser={this.props.follow} unfollowUser={this.props.unfollow} isFollowing={this.props.data.isFollowing} isFetching={this.props.data.isFetching} />\n            <Pagination setCurrentPage={this.setCurrentPage} currentPage={this.props.data.currentPage} totalCount={this.props.data.totalUsersCount} pageSize={this.props.data.pageSize} />\n        </>\n    };\n}\n\nconst mapStateToProps = (state) => ({\n    data: getUsers(state)\n});\n\n\nexport default compose(\n    connect(mapStateToProps, {\n        setCurrentPage,\n        follow: followThunkCreator, unfollow: unfollowThunkCreator, getUsers: getUsersThunkCreator,\n        setIsFollowing\n    }),\n    withAuthRedirect\n)(UsersContainer);"],"sourceRoot":""}